var body=document.querySelector("body"),green=document.querySelector(".green-toggle"),purple=document.querySelector(".purple-toggle"),brown=document.querySelector(".brown-toggle"),searchLink=document.querySelector(".user-search"),searchPopup=document.querySelector(".search-popup"),enterLink=document.querySelector(".user-enter"),enterPopup=document.querySelector(".enter-popup"),cartLink=document.querySelector(".user-cart"),cartPopup=document.querySelector(".cart-popup"),link=document.querySelector(".link"),formPopup=document.querySelector(".form-popup"),formClose=formPopup.querySelector(".form-popup-close"),overlay=document.querySelector(".overlay"),login=formPopup.querySelector("[name=name]"),password=formPopup.querySelector("[name=email]"),form=formPopup.querySelector("form"),storage=localStorage.getItem("login");green.addEventListener("click",function(e){e.preventDefault(),body.classList.add("green-bg"),green.classList.add("active-toggle"),body.classList.remove("purple-bg"),body.classList.remove("brown-bg"),purple.classList.remove("active-toggle"),brown.classList.remove("active-toggle")}),purple.addEventListener("click",function(e){e.preventDefault(),body.classList.add("purple-bg"),purple.classList.add("active-toggle"),body.classList.remove("green-bg"),body.classList.remove("brown-bg"),green.classList.remove("active-toggle"),brown.classList.remove("active-toggle")}),brown.addEventListener("click",function(e){e.preventDefault(),body.classList.add("brown-bg"),brown.classList.add("active-toggle"),body.classList.remove("purple-bg"),body.classList.remove("green-bg"),purple.classList.remove("active-toggle"),green.classList.remove("active-toggle")}),searchLink.addEventListener("click",function(e){e.preventDefault(),searchPopup.classList.contains("search-popup-show")?(searchPopup.classList.remove("search-popup-show"),searchLink.classList.remove("active-item-popup")):(searchPopup.classList.add("search-popup-show"),searchLink.classList.add("active-item-popup"),enterPopup.classList.remove("enter-popup-show"),enterLink.classList.remove("active-item-popup"),cartPopup.classList.remove("cart-popup-show"),cartLink.classList.remove("active-item-popup"))}),enterLink.addEventListener("click",function(e){e.preventDefault(),enterPopup.classList.contains("enter-popup-show")?(enterPopup.classList.remove("enter-popup-show"),enterLink.classList.remove("active-item-popup")):(enterPopup.classList.add("enter-popup-show"),enterLink.classList.add("active-item-popup"),searchPopup.classList.remove("search-popup-show"),searchLink.classList.remove("active-item-popup"),cartPopup.classList.remove("cart-popup-show"),cartLink.classList.remove("active-item-popup"))}),cartLink.addEventListener("click",function(e){cartPopup.classList.contains("cart-popup-show")?(cartPopup.classList.remove("cart-popup-show"),cartLink.classList.remove("active-item-popup")):(cartPopup.classList.add("cart-popup-show"),cartLink.classList.add("active-item-popup"),enterPopup.classList.remove("enter-popup-show"),enterLink.classList.remove("active-item-popup"),searchPopup.classList.remove("search-popup-show"),searchLink.classList.remove("active-item-popup"))}),link.addEventListener("click",function(e){e.preventDefault(),formPopup.classList.add("form-popup-show"),overlay.classList.add("overlay-show"),storage?(storage=login.value,login.focus()):password.focus()}),formClose.addEventListener("click",function(e){e.preventDefault(),formPopup.classList.remove("form-popup-show"),overlay.classList.remove("overlay-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&formPopup.classList.contains("form-popup-show")&&(formPopup.classList.remove("form-popup-show"),overlay.classList.remove("overlay-show"))}),form.addEventListener("submit",function(e){login.value&&password.value?localStorage.setItem("login",login.value):(e.preventDefault(),formPopup.classList.add("form-popup-error"))});
